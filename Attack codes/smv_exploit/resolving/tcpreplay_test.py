import subprocess

def replay_pcap(pcap_file, interface):
    try:
        # Construct the tcpreplay command
        cmd = ["tcpreplay", "--intf1={}".format(interface), pcap_file]

        # Execute the command
        subprocess.run(cmd, check=True)

        print("Successfully replayed the pcap file.")
    except subprocess.CalledProcessError as e:
        print(f"Error during tcpreplay execution: {e}")
    except FileNotFoundError:
        print("tcpreplay is not installed or not found in PATH.")

if __name__ == "__main__":
    # Path to the pcap file
    pcap_file = "path/to/your/capture.pcap"
    
    # Network interface to replay the pcap file on
    interface = "eth1"

    # Replay the pcap file
    replay_pcap(pcap_file, interface)
